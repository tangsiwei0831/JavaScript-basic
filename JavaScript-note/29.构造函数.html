<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 
        构造函数和普通函数的区别就是调用方式的不同
        需要加个new

        构造函数
        1.立刻创建一个新的对象
        2.将新建的对象设置为函数中的this
        3.执行函数中的代码
        4.将新建的对象作为返回值返回
     -->
     <script>
         function createDog(name, age){
             var obj = new Object();
             obj.name = name;
             obj.age = age;
             obj.sayName = fun;
        
             return obj;
         }

        //  在全局作用域中不太安全
        function fun(){
                 alert(this.name);
             }

         var dog = createDog('sss', 3);
        //  创建一个构造函数，person对象
        function Person(name, age){
            this.name = name;
            this.age = age;
        }
        var per = new Person('monkey', 18);
        // 任何对象都是object后代
        console.log(per instanceof Person);//true
        console.log(per instanceof Object);//true

        // 原型 prototype
        // 每一个函数，解析器都会像函数中添加一个属性 prototype
        // 这个属性对应着一个对象，这个对象就是原型对象
        // 如果函数作为普通函数调用，prototype没啥用
        // 以构造函数调用时，它所创建的对象都会有一个隐含的属性，指向该构造函数的原型对象
        // 可以通过 _proto_来访问该属性
        // 所有一个类的实力都可以访问该原型对象
        // 所以可以往prototype中加，所有实例都会有此属性
        function myClass(){

        }
        // 向myClass的原型添加属性a
        myClass.prototype.a = 123;
        myClass.prototype.sayHello = function(){
            alert(1);
        }
        var mc = new myClass();
        var mc2 = new myClass();
        mc.a = 456;
        console.log(mc._proto_)
        console.log(mc.a)//456
        console.log(mc2.a)//123
        mc.sayHello();

        // 使用in检查时，如果原型里有也会返回true
        // 使用该方法只有对象自身有才会返回true
        console.log(mc.hasOwnProperty('name'));//false
        // 原型对象也有原型
        // 如果原型没有，去原型的原型中找,直到object的原型
        // hasOwnProperty()在原型的原型里
        console.log(mc._proto_._proto_.hasOwnProperty('hasOwnProperty'));//true
        console.log(mc._proto_._proto_._proto_);//null
     </script>
</head>
<body>
    
</body>
</html>